<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coding with Claude - Solana 101</title>
    <meta name="description" content="Use Claude to scaffold and test a simple Solana program.">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="../css/styles.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        solana: {
                            purple: '#09637E',
                            green: '#7AB2B2',
                            dark: '#EBF4F6',
                            darker: '#EBF4F6'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-[#EBF4F6] text-gray-900 min-h-screen">
    <!-- Navigation Header -->
    <nav class="fixed top-0 left-0 right-0 bg-[#EBF4F6]/95 backdrop-blur-sm border-b border-[#7AB2B2] z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <a href="../index.html" class="flex items-center space-x-3">
                    <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-solana-purple to-solana-green flex items-center justify-center">
                        <span class="text-white font-bold text-lg">S</span>
                    </div>
                    <span class="text-xl font-bold">Solana 101</span>
                </a>
            </div>
        </div>
    </nav>

    <div class="lesson-layout pt-16">
        <!-- Sidebar -->
        <div class="lesson-sidebar" id="sidebar"></div>

        <!-- Main Content -->
        <main class="lesson-content">
            <!-- Breadcrumb -->
            <div class="flex items-center gap-2 text-sm text-gray-600 mb-4">
                <a href="../index.html" class="hover:text-gray-900">Home</a>
                <span>/</span>
                <span>Part 2</span>
                <span>/</span>
                <span class="text-solana-purple">Coding with Claude</span>
            </div>

            <h1>Coding with Claude</h1>

            <p class="text-xl text-gray-700 mb-8">
                Use Claude to scaffold a simple Solana program and iterate fast.
            </p>

            <div class="slide-deck">
                <div class="slide-header">
                    <div class="slide-counter" data-slide-counter></div>
                </div>

                <div class="slide active">
                    <div class="slide-card my-8">
                        <div class="slide-kicker">Slide 1</div>
                        <div class="slide-title">Prompt -> Program -> Test</div>
                        <div class="slide-subtitle">Clear prompts plus tight feedback loops build reliable code.</div>
                    </div>

                    <h2>Learning Objective</h2>
                    <ul>
                        <li>Structure prompts for code generation</li>
                        <li>Define accounts and instructions clearly</li>
                        <li>Test, debug, and iterate on generated code</li>
                    </ul>

                    <h2>What to Expect</h2>
                    <ul>
                        <li>Prompt structure: context, goal, constraints</li>
                        <li>"Wall of Wishes" data model outline</li>
                        <li>Interactive prompt flow stepper</li>
                    </ul>
                </div>

                <div class="slide">
                    <h2>Prompt Flow (Interactive)</h2>
                    <div class="animation-container my-8">
                        <div id="prompt-flow" class="p-6">
                            <div class="stepper-progress mb-4">
                                <div class="stepper-progress-fill" data-progress></div>
                            </div>
                            <div class="grid md:grid-cols-4 gap-4">
                                <div class="stepper-card" data-step="0">
                                    <div class="stepper-title">1. Define Goal</div>
                                    <p class="text-sm text-gray-600 m-0">Describe what you want to build.</p>
                                </div>
                                <div class="stepper-card" data-step="1">
                                    <div class="stepper-title">2. Add Constraints</div>
                                    <p class="text-sm text-gray-600 m-0">Accounts, limits, and rules.</p>
                                </div>
                                <div class="stepper-card" data-step="2">
                                    <div class="stepper-title">3. Generate & Review</div>
                                    <p class="text-sm text-gray-600 m-0">Inspect code before running.</p>
                                </div>
                                <div class="stepper-card" data-step="3">
                                    <div class="stepper-title">4. Test & Iterate</div>
                                    <p class="text-sm text-gray-600 m-0">Run tests and refine.</p>
                                </div>
                            </div>
                            <div class="mt-6 flex flex-wrap items-center justify-between gap-4">
                                <p class="text-sm text-gray-600" data-status></p>
                                <div class="flex gap-2">
                                    <button class="px-4 py-2 bg-[#EBF4F6] rounded-lg" data-prev>Back</button>
                                    <button class="px-4 py-2 bg-gradient-to-r from-solana-purple to-solana-green rounded-lg" data-next>Next Step</button>
                                    <button class="px-4 py-2 bg-[#EBF4F6] rounded-lg" data-reset>Reset</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="slide">
                    <h2>Example Prompt (Wall of Wishes)</h2>
                    <div class="code-block my-6">
                        <div class="code-block-header">
                            <span>Prompt</span>
                        </div>
                        <pre><code>I'm building a Wall of Wishes Anchor program. Please create the lib.rs file with:
- A WishCounter PDA (seed: "counter") storing total_wishes (u64) + bump (u8)
- A Wish PDA (seeds: ["wish", author pubkey, wish_number]) storing:
  author, text (max 280), author_name (max 50), timestamp, bump
Instructions:
- initialize: create counter PDA
- create_wish: create wish, increment counter
Use Anchor 0.30.x conventions.</code></pre>
                    </div>
                </div>

                <div class="slide">
                    <h2>Checkpoint Quiz</h2>
                    <div id="quiz-container"></div>
                </div>

                <div class="slide-nav">
                    <button data-slide-prev>Previous</button>
                    <div class="slide-dots" data-slide-dots></div>
                    <button data-slide-next>Next</button>
                </div>
            </div>

            <!-- Navigation -->
            <div id="lesson-nav"></div>
        </main>
    </div>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-sidebar-toggle" aria-label="Toggle menu">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
    </button>

    <!-- Scripts -->
    <script src="../js/navigation.js"></script>
    <script src="../js/quiz.js"></script>
    <script src="../js/slides.js"></script>
    <script src="../js/animations/prompt-flow.js"></script>

    <script>
        // Initialize sidebar
        document.getElementById('sidebar').innerHTML = Navigation.generateSidebar();
        Navigation.highlightCurrentPage();

        // Initialize navigation buttons
        document.getElementById('lesson-nav').innerHTML = Navigation.generateNavButtons();

        // Initialize quiz
        const quizData = {
            sectionId: 'module-7-coding-with-claude',
            questions: [
                {
                    question: "What should a good prompt include?",
                    options: [
                        "Only the project name",
                        "Context, goal, and constraints",
                        "Just a link to a repo",
                        "Only a screenshot"
                    ],
                    correct: 1,
                    explanation: "Clear context, goals, and constraints improve code quality."
                },
                {
                    question: "Which account tracks total wishes in the example?",
                    options: [
                        "Wish",
                        "WishCounter",
                        "System Program",
                        "Token Account"
                    ],
                    correct: 1,
                    explanation: "WishCounter stores the total_wishes value."
                },
                {
                    question: "Why test before deploying?",
                    options: [
                        "Tests are optional on Solana",
                        "To catch errors before mainnet",
                        "To speed up compilation",
                        "To avoid needing Rust"
                    ],
                    correct: 1,
                    explanation: "Testing prevents costly mistakes before deploying to mainnet."
                },
                {
                    question: "The Wish PDA is derived from:",
                    options: [
                        "Only the program ID",
                        "Seeds + program ID",
                        "Private key",
                        "Validator stake"
                    ],
                    correct: 1,
                    explanation: "PDAs are derived from seeds and program ID."
                },
                {
                    question: "A good prompt should specify:",
                    options: [
                        "Account structures and instruction behavior",
                        "Only UI colors",
                        "Only token names",
                        "Only a deadline"
                    ],
                    correct: 0,
                    explanation: "Clear constraints lead to better code."
                },
                {
                    question: "The initialize instruction should:",
                    options: [
                        "Create the counter PDA",
                        "Create a wish PDA",
                        "Mint tokens",
                        "Close all accounts"
                    ],
                    correct: 0,
                    explanation: "Initialize creates the counter state."
                },
                {
                    question: "What should you do after Claude generates code?",
                    options: [
                        "Deploy immediately",
                        "Review and test it",
                        "Ignore it",
                        "Only change colors"
                    ],
                    correct: 1,
                    explanation: "Always review and test generated code."
                },
                {
                    question: "Why iterate incrementally?",
                    options: [
                        "It makes code shorter",
                        "It reduces errors and makes debugging easier",
                        "It avoids using Anchor",
                        "It removes the need for tests"
                    ],
                    correct: 1,
                    explanation: "Small steps are easier to validate."
                },
                {
                    question: "The wish text limit in the example is:",
                    options: [
                        "50 characters",
                        "140 characters",
                        "280 characters",
                        "1024 characters"
                    ],
                    correct: 2,
                    explanation: "The prompt specifies max 280 characters."
                },
                {
                    question: "Why include timestamp in a wish?",
                    options: [
                        "For ordering and display",
                        "To reduce fees",
                        "To avoid using PDAs",
                        "To hide data"
                    ],
                    correct: 0,
                    explanation: "Timestamps help ordering and UI display."
                }
            ]
        };
        renderQuiz('quiz-container', quizData);
    </script>
</body>
</html>
